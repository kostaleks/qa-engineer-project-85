---
- summary: |
    Пробная игра без регистрации и авторизации
  requirement: |
    Пользователь должен иметь возможность начать игру без регистрации и авторизации
  prerequisites: |
    Открыть страницу https://codebattle.hexlet.io
  test-data: |
    no-data
  steps:
    - Нажать на кнопку Try simple battle
  expected-result: |
    Открывается случайная игра с ботом
    
- summary: |
    Регистрация на сайте
  requirement: |
    Пользователь должен иметь возможность зарегистрироваться на сайте
  prerequisites: |
    Открыть форму регистрации кнопкой Sign up
  test-data: |
    Nickname = ooopsss 
    Email = k.e.a@bk.ru 
    Password = 88888888
  steps:
    - Ввести имя
    - Ввести почту
    - Ввести пароль
    - Ввести пароль повторно
    - Нажать кнопку Submit
  expected-result: |
    Пользователь попадает на главную страницу

- summary: |
    Авторизация по email
  requirement: |
    Пользователь должен иметь возможность войти в игру с помощью email, Github или Discord
  prerequisites: |
    Открыть форму авторизации Sign in
  test-data: |
    Email = k.e.a@bk.ru 
    Password = 88888888
  steps:
    - Ввести почту
    - Ввести пароль
    - Нажать кнопку Submit
  expected-result: |
    Авторизация успешна 

- summary: |
    Авторизация через аккаунт Github
  requirement: |
    Пользователь должен иметь возможность войти в игру с помощью email, Github или Discord
  prerequisites: |
    Зарегистрироваться на Github
    Открыть форму авторизации Sign in
  test-data: |
    no-data
  steps:
    - Нажать кнопку Sign in with Github
  expected-result: |
    Авторизация успешна 

- summary: |
    Авторизация через аккаунт Discord
  requirement: |
    Пользователь должен иметь возможность войти в игру с помощью email, Github или Discord
  prerequisites: |
    Зарегистрироваться на Discord
    Открыть форму авторизации Sign in
  test-data: |
    no-data
  steps:
    - Нажать кнопку Sign in with Discord
  expected-result: |
    Авторизация успешна

- summary: |
    Выбор уровня сложности игры
  requirement: |
    Пользователь должен иметь возможность выбрать уровень сложности игры
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать любой уровень сложности
    - Начать игру
  expected-result: |
    Уровень сложности игры соответствует выбранному
    
- summary: |
    Продолжительность игры
  requirement: |
    Пользователь должен иметь возможность выбрать продолжительность игры
  prerequisites: |
    Пользователь авторизован
  test-data: |
    time control 20 min
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Выбрать time control 20 min
    - Начать игру
  expected-result: |
    Продолжительность игры соответствует выбранной

- summary: |
    Игра с ботом
  requirement: |
    Пользователь должен иметь возможность выбрать тип игры с другим пользователем, с другом или с ботом
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
  expected-result: |
    Открывается игра с ботом 

- summary: |
    Игра с другим пользователем
  requirement: |
    Пользователь должен иметь возможность выбрать тип игры с другим пользователем, с другом или с ботом
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with other users
    - Начать игру
  expected-result: |
    Открывается страница ожидания другого игрока

- summary: |
    Игра с другом
  requirement: |
    Пользователь должен иметь возможность выбрать тип игры с другим пользователем, с другом или с ботом
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a friend
    - Начать игру 
  expected-result: |
    Открывается страница ожидания другого игрока   
 
- summary: |
    Возможность выбора задачи
  requirement: |
    Пользователь должен иметь возможность выбрать любую задачу или сыграть в случайную
  prerequisites: |
    Пользователь авторизован
  test-data: |
    rect_area
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Выбрать в раскрывающемся списке task's name задачу с названием rect_area
    - Начать игру
  expected-result: |
    Открывается страница игры с выбранной задачей

- summary: |
    Случайная задача
  requirement: |
    Пользователь должен иметь возможность выбрать любую задачу или сыграть в случайную
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Завершить игру
    - Повторить первые три шага
  expected-result: | 
    Первая и вторая задачи разные, происходит случайный выбор

- summary: |
    Фильтрация задач по тегам
  requirement: |
    Пользователь должен иметь возможность выбрать задачи с определенным тегом
  prerequisites: |
    Пользователь авторизован
  test-data: |
    level 4
    game type with a bot
    tags math
  steps:
    - Нажать Create game
    - Выбрать уровень сложности 4
    - Выбрать game type with a bot
    - Выбрать тег math
    - Начать игру
  expected-result: |
    Открывается либо задача euler_totient_function, либо задача levenshtein_distance 

- summary: |
    Приглашение на бой другого игрока
  requirement: |
    Пользователь должен иметь возможность пригласить на бой другого игрока
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Выбрать игрока в списке онлайн
    - Нажать на никнейм игрока
    - Выбрать send a invite
  expected-result: |
    В чате появляется сообщение о приглашении. На иконке с мечами появляется число    

- summary: |
    Принятие приглашения на бой от другого игрока
  requirement: |
    Пользователь должен иметь возможность принять приглашение на бой от другого игрока
  prerequisites: |
    Пользователь авторизован
    Пользователь получил приглашение от другого игрока
  test-data: |
    no-data
  steps:
    - Нажать на иконку с мечами
    - Нажать accept 
  expected-result: |
    Происходит переход в игру

- summary: |
    Сообщения в общий чат
  requirement: |
    Пользователь должен иметь возможность писать сообщения в общем чате
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - В форме сообщений написать сообщение в чат General 
    - Нажать send 
  expected-result: |
    Сообщение появляется в общем чате. Его видят все пользователи 

- summary: |
    Личное сообщение другому игроку
  requirement: |
    Пользователь должен иметь возможность написать личное сообщение другому игроку
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать на иконку сообщения
    - Выбрать игрока
    - Написать сообщение
    - Нажать send
  expected-result: |
    Сообщение появляется в личном чате.

- summary: |
    Сообщения в чате игры с другим игроком
  requirement: |
    Пользователь должен иметь возможность писать сообщения в чате игры с другим игроком
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Написать сообщение в форме сообщения
    - Нажать send
  expected-result: |
    Сообщение появляется в чате игры

- summary: |
    Выбор языка текста задачи
  requirement: |
    Пользователь должен иметь возможность выбора языка текста задачи
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Нажать на выпадающий список доступных языков
    - Выбрать другой язык
  expected-result: |
    Текст задачи переведен на выбранный язык   

- summary: |
    Выбор языка программирования до решения задачи
  requirement: |
    Пользователь должен иметь возможность выбора языка программирования до решения задач
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Нажать на раскрывающийся список доступных языков программирования
    - Выбрать желаемый язык программирования
  expected-result: |
    В окне программирования меняется исходный код на выбранный язык программирования
    
- summary: |
    Смена языка программирования во время решения задачи
  requirement: |
    Пользователь должен иметь возможность смены языка программирования во время решения задачи
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Написать любые пару строк кода
    - Нажать на раскрывающийся список доступных языков программирования
    - Сменить язык программирования
  expected-result: |
    В окне программирования меняется исходный код на выбранный язык программирования

- summary: |
    Возможность сдаться во время игры
  requirement: |
    Пользователь должен иметь возможность сдаться во время игры
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with a bot
    - Начать игру
    - Нажать на кнопку other actions
    - Выбрать give up
    - Выбрать give up
  expected-result: |
    В игре появляется белый флаг. Игрок сдался 

- summary: |
    Возможность завершить проигранную игру
  requirement: |
    Пользователь должен иметь возможность зайти заново в игру, в которой он сдался и продолжить решение
  prerequisites: |
    Пользователь авторизован
  test-data: |
    no-data
  steps:
    - Нажать Create game
    - Выбрать game type with other user
    - Начать игру
    - Нажать на кнопку other actions
    - Выбрать give up
    - Выбрать give up
    - Нажать back to home
    - Нажать continie в строке игры на lobby
  expected-result: |
    Игрок возвращается в игру и может дописать и проверить код

- summary: |
    Просмотр игры других пользователей онлайн
  requirement: |
    Пользователь должен иметь возможность следить за игрой других пользователей онлайн
  prerequisites: |
    Пользователь авторизован
    Два других пользователя играют друг с другом в данный момент
  test-data: |
    no-data
  steps:
    - В строке игры нажать Show 
  expected-result: |
    Происходит переход на страницу игры онлайн    
 
- summary: |
    Фильтрация товаров по цене в выбранной категории
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Раскрыть выпадающий список Category
    - Выбрать любую категорию из списка, например Fragrances
    - В поле Price from ввести среднюю цену товаров этой категории, например 70
  expected-result: |
    На странице отображаются товары выбранной категории с ценой выше выбранной

- summary: |
    Фильтрация товаров по бренду
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Выбрать бренд на любой странице каталога, кроме первой, например Puma
    - Вернуться на первую страницу каталога
    - Включить чек-бокс выбранного бренда
  expected-result: | 
    На странице отображаются товары выбранного бренда

- summary: |
    Фильтрация товаров по нескольким брендам
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Выбрать несколько брендов на любых страницах каталога, кроме первой, например Puma Rolex и Chanel
    - Вернуться на первую страницу каталога
    - Включить чек-боксы выбранных брендов
  expected-result: |
    На странице отображаются товары всех выбранных брендов  

- summary: |
    Отображение всех товаров в каталоге
  requirement: |
    Пользователь должен иметь возможность фильтровать товары
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Выключить чек-бокс In Stock
  expected-result: |
    Отображаются все товары каталога    

- summary: |
    Переключение страниц каталога кнопкой Next
  requirement: |
    Пользователь должен иметь возможность просматривать товары и просматривать подробную информацию о них
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Листать каталог постранично, нажимая кнопку Next
  expected-result: |
    Каталог постранично отображается

- summary: |
    Переключение страниц каталога кнопкой Previous
  requirement: |
    Пользователь должен иметь возможность просматривать товары и просматривать подробную информацию о них
  prerequisites: |
    empty
  test-data: |
    no-data
  steps:
    - Перейти на последнюю страницу каталога
    - Вернуться на первую страницу каталога
  expected-result: |
    Каталог постранично отображается    
